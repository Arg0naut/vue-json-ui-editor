webpackJsonp([1],{IkKh:function(e,t){},"L/hj":function(e,t,n){"use strict";function o(e){return JSON.parse(c()(e))}function i(e,t,n){var o=e[t];return o&&"object"===(void 0===o?"undefined":p()(o))&&!Array.isArray(o)?o:n&&void 0===o?e[t]={}:void 0}function r(e,t){if(1===t.length)return e[t[0]];var n=e[t[0]];if(void 0===n)return n;for(var o=1,r=t.length-1;o<r;o++)if(void 0===(n=i(n,t[o],!1)))return n;return n[t[o]]}function a(e,t){if(1===t.length){var n=i(e,t[0],!0);if(void 0===n)throw new TypeError("fail to init because namespace "+t[0]+" = "+e[t[0]]);return n}var o=e,r=e[t[0]];void 0===r&&(r=e[t[0]]={});for(var a=1;a<t.length;a++){var s=t[a],l=i(r,s,!0);if(void 0===l)throw new TypeError("fail to init because namespace "+t.join(".")+" = "+r+"("+(void 0===r?"undefined":p()(r))+")");if(o=r,r=l,void 0===o[s])throw new TypeError("fail to init because namespace "+t.slice(0,a).join(".")+" = "+o)}return r}function s(e,t,n){var o=Array.isArray(t)?t:t.split(".");return t=o.pop(),(o.length>0?a(e,o):e)[t]=n,n}Object.defineProperty(t,"__esModule",{value:!0}),t.deepClone=o,t.getExtendibleLeaf=i,t.getChild=r,t.initChild=a,t.setVal=s;var l=n("pFYg"),p=n.n(l),u=n("mvHQ"),c=n.n(u)},SrUm:function(e,t,n){"use strict";function o(e){n("IkKh")}function i(e){n("sHr2")}Object.defineProperty(t,"__esModule",{value:!0});var r=n("7+uW"),a=n("mvHQ"),s=n.n(a),l=n("fZjL"),p=n.n(l),u=n("bOdI"),c=n.n(u),m=n("Gu7T"),d=n.n(m),h=n("Dd8w"),f=n.n(h),v=n("BO1k"),b=n.n(v),y=n("pFYg"),g=n.n(y),x=n("L/hj"),C=x.initChild,O=x.getChild,w=["anyOf","oneOf","enum"],j=function(e,t,n){t.value=e.hasOwnProperty("default")?e.default:t.hasOwnProperty("value")?t.value:"",t.component=e.component,t.schemaType=e.type,t.label=e.title||"",t.description=e.description||"",t.required=e.required||!1,t.disabled=e.disabled||!1,t.name=n},k=function(e,t){var n=t.name.split("."),o=O(e.value,n);if(e.value&&!o){var i=n.pop(),r=n.length>0?C(e.value,n):e.value;e.$set(r,i,t.value)}},_=function(e,t,n){var o=t.attrs||{};return j(t,o,n),o.type||(o.type="checkbox"),o.checked=t.checked||!1,t.name&&(o.name=n,k(e,o)),o},$=function(e,t,n){var o=t.attrs||{};if(t.format)switch(t.format){case"email":o.type||(o.type="email");break;case"uri":o.type||(o.type="url");break;case"regex":o.type||(o.type="text"),o.pattern=t.pattern}if(!o.type)switch(t.type){case"number":case"integer":o.type="number";break;default:o.type="text"}return j(t,o,n),t.name&&(o.name=n,k(e,o)),t.minLength&&(o.minlength=t.minLength),t.maxLength&&(o.maxlength=t.maxLength),o},E=function(e){return e.map(function(e){return"object"!==(void 0===e?"undefined":g()(e))?{value:e,label:e}:e})},S=function(e,t,n){var o=t.attrs||{};j(t,o,n),o.multiple=t.minItems>1,o.items=[];var i=!0,r=!1,a=void 0;try{for(var s,l=b()(w);!(i=(s=l.next()).done);i=!0){var p=s.value;if(t.hasOwnProperty(p))switch(p){case"enum":o.type||(o.type="select"),o.value=o.value||"",o.items=E(t[p]);break;case"oneOf":o.type="radio",o.value=o.value||"",o.items=E(t[p]);break;case"anyOf":o.type="checkbox",o.value=o.value||[],o.items=E(t[p])}}}catch(e){r=!0,a=e}finally{try{!i&&l.return&&l.return()}finally{if(r)throw a}}return o.type||(o.type=t.type,o.value=o.value||[],o.items=[]),t.name&&(o.name=n,k(e,o)),o},P=function e(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.fields,i=arguments[3];if(n&&!1!==n.visible){var r=i?i.join("."):n.name;switch(n.type){case"object":for(var a in n.properties){if(n.properties[a].name=a,n.required){var s=!0,l=!1,p=void 0;try{for(var u,c=b()(n.required);!(s=(u=c.next()).done);s=!0){var m=u.value;n.properties[m]&&(n.properties[m].required=!0)}}catch(e){l=!0,p=e}finally{try{!s&&c.return&&c.return()}finally{if(l)throw p}}}n.name&&!o[r]&&(o[r]={$sub:!0,$title:n.title,$description:n.description}),e(t,n.properties[a],n.name?o[r]:void 0,i?[].concat(d()(i),[a]):[a])}break;case"boolean":o[r]=_(t,n,r);break;case"array":o[r]=S(t,n,r);break;case"integer":case"number":case"string":var h=!0,f=!1,v=void 0;try{for(var y,g=b()(w);!(h=(y=g.next()).done);h=!0){var x=y.value;if(n.hasOwnProperty(x))return n.items={type:n.type,enum:n[x]},void(o[r]=S(t,n,r))}}catch(e){f=!0,v=e}finally{try{!h&&g.return&&g.return()}finally{if(f)throw v}}o[r]=$(t,n,r);break;default:o[r]=$(t,n,r)}}},L=n("L/hj"),q={native:!0},N={title:{component:"h1",option:q},description:{component:"p",option:q},error:{component:"div",option:q},form:{component:"form",option:q},file:{component:"input",option:q},label:{component:"label",option:q},input:{component:"input",option:q},radio:{component:"input",option:q},select:{component:"select",option:q},option:{component:"option",option:q},button:{component:"button",option:f()({},q,{type:"submit",label:"Submit"})},checkbox:{component:"input",option:q},textarea:{component:"textarea",option:q},radiogroup:{component:"div",option:q},checkboxgroup:{component:"div",option:q}},T={component:"input",option:q},U={component:"div",option:q},V={name:"JsonEditor",props:{schema:{type:Object,required:!0},value:{type:Object,default:function(){return{}}},autoComplete:{type:String},noValidate:{type:Boolean},inputWrappingClass:{type:String}},data:function(){return{default:{},fields:{},error:null,data:{}}},created:function(){P(this,Object(L.deepClone)(this.schema)),this.default=Object(L.deepClone)(this.value),this.data=Object(L.deepClone)(this.value)},render:function(e){function t(n,o){var i=this,r=void 0;r=o?Object(L.setVal)(l,o.pop(),{}):l.root,p()(n).length&&p()(n).forEach(function(a){var s=[];if(0!==a.indexOf("$")){var l=n[a];if(l.$sub)return t.call(i,l,o?[].concat(d()(o),[a]):[a]);var p=l.name,u=Object(L.getChild)(i.value,p.split("."));l.value||(l.value=u);var c=l.component?{component:l.component,option:{}}:void 0,m=l.component?c:l.hasOwnProperty("items")&&"select"!==l.type?N[l.type+"group"]||U:N[l.type]||T,h=i.elementOptions(m,l,l),v=[],b=f()({ref:p,domProps:{value:u},on:{input:function(e){var t=e&&e.target?e.target.value:e,n=p.split("."),o=n.pop(),r=n.length>0?Object(L.initChild)(i.data,n):i.data;i.$set(r,o,t),i.$emit("input",i.data)},change:i.changed}},h);switch(delete l.value,l.type){case"textarea":m.option.native&&(b.domProps.innerHTML=u);break;case"radio":case"checkbox":l.hasOwnProperty("items")&&l.items.forEach(function(t){var n=i.elementOptions(N[l.type],t,t,t);v.push(e(N[l.type].component,n,t.label))});break;case"select":l.required||v.push(e(N.option.component)),l.items.forEach(function(t){var n=i.elementOptions(N.option,{value:t.value},l);v.push(e(N.option.component,f()({domProps:{value:t.value}},n),t.label))})}var y=e(m.component,b,v),g=[];if(l.label&&!q.disableWrappingLabel){var x=i.elementOptions(N.label,l,l),C=[];N.label.option.native&&C.push(e("span",{attrs:{"data-required-field":l.required?"true":"false"}},l.label)),C.push(y),l.description&&(C.push(e("br")),C.push(e("small",l.description))),g.push(e(N.label.component,x,C))}else g.push(y),l.description&&(g.push(e("br")),g.push(e("small",l.description)));i.inputWrappingClass?s.push(e("div",{class:i.inputWrappingClass},g)):g.forEach(function(e){return s.push(e)}),r[a]=s[0]}})}function n(t,o){var i=this,r=[],a=o&&o.pop();return t.$title&&r.push(e("div",{class:"sub-title"},t.$title)),p()(t).forEach(function(s){if(0!==s.indexOf("$")){var p=t[s];if(p.$sub){var u=n.call(i,p,o?[].concat(d()(o),[s]):[s]);r.push(e("div",{class:"sub"},u))}else a?r.push(Object(L.getChild)(l,a.split("."))[s]):r.push(l.root[s])}}),r}var o=this,i=[];if(this.schema.title&&i.push(e(N.title.component,this.schema.title)),this.schema.description&&i.push(e(N.description.component,this.schema.description)),this.error){var r=this.elementOptions(N.error),a=[];N.error.option.native&&a.push(this.error),i.push(e(N.error.component,r,a))}var s=[],l={root:{}};t.call(this,this.fields);var u=n.call(this,this.fields);s.push(u);var c=this.elementOptions(N.label),m=this.$slots.hasOwnProperty("default")?{component:this.$slots.default,option:q}:N.button;if(m.component instanceof Array)s.push(e(N.label.component,c,m.component));else{var h=this.elementOptions(m),v=e(m.component,h,m.option.label);s.push(e(N.label.component,c,[v]))}var b=this.elementOptions(N.form,{autocomplete:this.autocomplete,novalidate:this.novalidate});return i.push(e(N.form.component,f()({ref:"__form",on:{submit:function(e){e.stopPropagation(),o.submit(e)},invalid:this.invalid}},b),s)),e("div",i)},mounted:function(){this.reset()},setComponent:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};N[e]={component:t,option:n}},methods:{optionValue:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return"function"==typeof t?t({vm:this,field:e,item:n}):t},elementOptions:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=e.option.native?"attrs":"props",r="function"==typeof e.option?e.option:f()({},e.option,{native:void 0}),a=this.optionValue(n,r,o);return c()({},i,f()({},t,a))},changed:function(e){this.$emit("change",e)},input:function(e){if(!this.$refs[e])throw new Error("Undefined input reference '"+e+"'");return this.$refs[e][0]},form:function(){return this.$refs.__form},checkValidity:function(){return this.$refs.__form.checkValidity()},invalid:function(e){this.$emit("invalid",e)},reset:function(){for(var e in this.data){var t=e.split("."),n=t.pop(),o=t.length>0?Object(L.initChild)(this.data,t):this.data,i=Object(L.getChild)(this.default,e.split("."));this.$set(o,n,i)}},submit:function(e){this.checkValidity()&&this.$emit("submit",e)},setErrorMessage:function(e){this.error=e},clearErrorMessage:function(){this.error=null}}},A=n("VU/8"),J=A(V,null,!1,null,null,null),M=J.exports,D=n("zL8q"),F=n.n(D);M.setComponent("form","el-form",function(e){function t(e){p()(e).forEach(function(n){if(0!==n.indexOf("$")||"$sub"===n){var o=e[n];if(o.$sub)return t(o);if(o.name){i[o.name]=[];var r="array"===o.schemaType&&"radio"===o.type?"string":o.schemaType,a=o.required,s=o.title,l=["radio","checkbox","select"].includes(o.type)?"change":"blur";if(i[o.name].push({type:r,required:a,message:s,trigger:l}),void 0!==o.minlength||void 0!==o.maxlength){var p=o.maxlength||255,u=o.minlength||0,c="Length must between "+u+" and "+p;i[o.name].push({min:u,max:p,message:c,trigger:l})}}}})}var n=e.vm,o=n.data,i={};return t(n.fields),{labelWidth:"120px",rules:i,model:o}}),M.setComponent("label","el-form-item",function(e){return{prop:e.field.name}}),M.setComponent("email","el-input"),M.setComponent("url","el-input"),M.setComponent("number","el-input-number"),M.setComponent("text","el-input"),M.setComponent("textarea","el-input"),M.setComponent("checkbox","el-checkbox"),M.setComponent("checkboxgroup","el-checkbox-group"),M.setComponent("radio","el-radio"),M.setComponent("select","el-select"),M.setComponent("switch","el-switch"),M.setComponent("color","el-color-picker"),M.setComponent("rate","el-rate"),M.setComponent("option",D.Option),M.setComponent("title","h2"),M.setComponent("description","small"),M.setComponent("error","el-alert",function(e){return{type:"error",title:e.vm.error}});var H={data:function(){return{schema:n("x9Nm"),model:{name:"Yourtion",sub:{sEmail:"yourtion@gmail.com"}}}},computed:{jsonString:function(){return s()(this.model,null,2).trim()}},methods:{submit:function(e){var t=this;this.$refs.JsonEditor.form().validate(function(e){if(!e)return t.$refs.JsonEditor.setErrorMessage("Please fill out the required fields"),!1;console.log("model",s()(t.model)),t.$refs.JsonEditor.clearErrorMessage()})},reset:function(){this.$refs.JsonEditor.reset()}},components:{JsonEditor:M}},R=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",[n("el-col",{attrs:{span:12}},[n("el-card",{staticClass:"form"},[n("json-editor",{ref:"JsonEditor",attrs:{schema:e.schema},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},[n("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("Subscribe")]),e._v(" "),n("el-button",{attrs:{type:"reset"},on:{click:e.reset}},[e._v("Reset")])],1)],1)],1),e._v(" "),n("el-col",{attrs:{span:12}},[n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[e._v("Model")])]),e._v(" "),n("pre",{staticClass:"json"},[e._v(e._s(e.jsonString))])]),e._v(" "),n("br"),e._v(" "),n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[e._v("How to use")])]),e._v(" "),n("div",{staticClass:"json"},[n("p",[e._v("GitHub: "),n("a",{attrs:{href:"https://github.com/yourtion/vue-json-ui-editor",target:"_blank"}},[e._v("vue-json-ui-editor")])]),e._v(" "),n("p",[e._v("NPM: "),n("a",{attrs:{href:"https://www.npmjs.com/package/vue-json-ui-editor",target:"_blank"}},[e._v("json-editor")])])])])],1)],1)},W=[],Y={render:R,staticRenderFns:W},I=Y,B=n("VU/8"),G=o,K=B(H,I,!1,G,null,null),Q=K.exports,Z={name:"app",components:{Subscription:Q}},z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Subscription")],1)},X=[],ee={render:z,staticRenderFns:X},te=ee,ne=n("VU/8"),oe=i,ie=ne(Z,te,!1,oe,null,null),re=ie.exports,ae=(n("tvR6"),n("wUZ8")),se=n.n(ae);r.default.use(F.a,{locale:se.a}),r.default.config.productionTip=!1,new r.default({el:"#app",template:"<App/>",components:{App:re}})},sHr2:function(e,t){},tvR6:function(e,t){},x9Nm:function(e,t){e.exports={$schema:"http://json-schema.org/draft-07/schema#",type:"object",title:"Json-Editor-Demo",description:"Demo for vue-json-ui-editor using element-ui ",properties:{name:{type:"string",minLength:8,maxLength:80,title:"String",attrs:{placeholder:"Your Full Name",title:"Please enter your full name"}},sub:{title:"SubTitle",description:"SubDescription",type:"object",properties:{sName:{minLength:8,maxLength:80,title:"SubName",attrs:{placeholder:"Sub Full Name",title:"Please enter your full name"}},sUrl:{title:"SubUrl",format:"uri"},sub2:{type:"object",title:"Sub2Title",description:"Sub2Description",properties:{sName2:{format:"regex",title:"Sub2Name",pattern:"*"},sAge:{type:"integer",title:"Sub2Age"}},required:["sName2"]}},required:["sUrl"]},lists:{type:"string",title:"List",enum:["Daily New","Promotion"],attrs:{placeholder:"Select your list subscription",title:"Please select your list subscription"}},lists2:{type:"array",title:"List2",anyOf:[{value:"daily",label:"Daily New"},{value:"promotion",label:"Promotion"}],attrs:{placeholder:"Select your list subscription",title:"Please select your list subscription"}},lists3:{type:"array",title:"List3",oneOf:[{value:"daily",label:"Daily New"},{value:"promotion",label:"Promotion"}]},source:{type:"string",maxLength:120,title:"Source",description:"Ex. Using the NPM Search Engine",attrs:{type:"textarea",placeholder:"How did you hear about us?"}},rate:{type:"number",title:"Rate",default:2,attrs:{type:"rate","allow-half":!0}},color:{type:"string",title:"Color",default:"#409EFF",attrs:{type:"color"}},agree:{type:"boolean",title:"Agree",description:"You agree to receive occasional updates and special offers for vue-json-schema updates.",default:!1,attrs:{type:"switch"}}},additionalProperties:!1,required:["name","email","lists"]}}},["SrUm"]);
//# sourceMappingURL=app.6929d2b6ad0b23e9ecf4.js.map